
<!DOCTYPE html> 
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UofT Prerequisite Tool</title>
    <link rel="icon" type="image/png" href="https://lh3.googleusercontent.com/GdVTYc5AWuWf0jYJq8YyLtpEJw9t_8hXVhBOJlwRLgjj3oc49enG7Lt4jO_qiZ0eBQgMgqduna-wNdaW55OsEdXnDi9sksCbE1ZYXD7Q0U4Zym7QgizcU9PiJsm7FFfDjhQ6klDX6g=w2400">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128944652-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-128944652-1');
</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  
<!-- onClick functions to close trees -->
        <script>
        $(document).ready(function(){
            $("h4").click(function(){
                var pare=$(this).parent();
                $(".div1", pare).each(function(){
                    $(this).toggle();
                });
             
            });
        });

        $(document).ready(function(){
            $(".Init2").click(function(){
                var pare=$(this).parent();
                $(".div2", pare).each(function(){
                    $(this).toggle();
                });
             
            });
        });
        </script>

    
</head>
<!-- Tree CSS thank you google -->
    <style>

        
html, body {
    height: 100%;
    }
body {
display: flex;
flex-direction: column;
}
.content12 {
flex: 1 0 auto;
}

.footer {
    position: fixed
}

.tree,
.tree ul {
  margin:0 0 0 1em; /* indentation */
  padding:0;
  list-style:none;
  color:rgb(13, 44, 75);
  position:relative;
}

.tree ul {margin-left:.5em} /* (indentation/2) */

.tree:before,
.tree ul:before {
  content:"";
  display:block;
  width:0;
  position:absolute;
  top:0;
  bottom:0;
  left:0;
  border-left:1px solid;
}

.tree li {
  margin:0;
  padding:0 1.5em; /* indentation + .5em */
  line-height:2em; /* default list item's `line-height` */
  font-weight:bold;
  position:relative;
}

.tree li:before {
  content:"";
  display:block;
  width:10px; /* same with indentation */
  height:0;
  border-top:1px solid;
  margin-top:-1px; /* border top width */
  position:absolute;
  top:1em; /* (line-height/2) */
  left:0;
}

.tree li:last-child:before {
  background:rgb(255, 255, 255); /* same with body background */
  height:auto;
  top:1em; /* (line-height/2) */
  bottom:0;
}



    </style>
<body>
    <!-- Navbar -->
<nav class="navbar  navbar-light bg-light">
        <div class="dropdown">
            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        About
                </button>
                <div class="dropdown-menu">
                    <h6 class="dropdown-header">About</h6>
                    <p>This webapp was developed using Python and Django framework with Bootstrap.</p>
                    
                </div>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Notes
                </button>
                <div class="dropdown-menu" style="width: 400px;" >
                    <h6 class="dropdown-header">Notes</h6>
                    <p>I have now moved over to a database, therefore it should run much faster now. </p>
                </div>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Current Issues
                </button>
                <div class="dropdown-menu" style="width: 400px;" >
                    <h6 class="dropdown-header">Current Issues</h6>
                    <p>The scraper did not scrape all of the courses available. In addition, my script was not able to fully import data into the database therefore approximately 5-10% of courses are missing. Working on a fix. </p>

                    <p class="mb-1">
                    This tool so far is now limited to 4 "layers".
                    </p>
                </div>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Contact Me
                </button>
                <div class="dropdown-menu" >
                    <h6 class="dropdown-header">Concerns or comments?</h6>
                    <a href="mailto:randell.acenas@mail.utoronto.ca">Email Me</a>
                </div>
            </div>
            
            <div class="btn-group">
                <a href="https://queenstvisions.com" target="_blank" class="navbar-brand navbar-right">
                    Check out: 
                <img src="https://lh3.googleusercontent.com/n2gh0WNNOPE84UHZ3NpD_jYMGsl4jTyG3Nf2VpbVrd0MWQ1iWknJ3RxdTUaRVMU0KK1hlitoIE4dDuFvMn1vDJhmnDhq5-NPaqVXV-tpYG4nbU31UabPeAQ9GCQA5L0l-WvQBhsPaA=w2400" width="80" height="40">
                </a>
            </div>
            
            
        </div>
</nav>    
 <!-- Search form and return        -->
<div  class="container-fluid">

    <div style="background-color:rgb(10, 39, 92)" class="p-3 mb-2 text-white"> 
        <div class="media">
            <div class="media-body">
                <h1> UofT Prerequisite Tool</h1>
                <h5>Enter the full course code and find its prerequisites.</h5>
                <a>Note: Please enter the full course code when searching. This means including H1/Y1 for UTSG, H3/Y3 for UTSC, and H5/Y5 for UTM.</a>
            
                <form class="form-inline" method="GET">
                    <div class="form-group">
                        {{ A }}
                        <button class="btn btn-default" type="submit">Search</button>
                    </form>
                </form>
            </div>

        </div> 
    
    </div>
</div>

{% for i in nest %}



<!-- Jinja2 code. took me forever -->
    <div class="content p-3">
        <h2>{{i.code}}</h2>
        <ul class="tree">
            <li> {{i.P1}} 
                <ul>
                    {% for key, val in i.21.items%}
                        {% for io, k in i.22.items %}
                            {% if key == io %}
                    <li>
                            <h4 class="Init">{{key}}</h4>
                            <ul>
                                <div class="div1">
                                <li>
                                    <h6>{{val}}</h6>
                                    <ul>
                                        {% for key1, pre1 in i.P3_dict.items %}
                                        
                                                {% if key1 in k %}
                                                    <li>
                                                        <a class="Init2">{{key1}} </a>
                                                        <ul>  
                                                                                                                  
                                                            <li class='div2'>
                                                            {{pre1}}
                                                            
                                                                <ul>
                                                                
                                                                    
                                                                    {% for over, under in i.P3_I.items %}
                                                                        {% if key1 == over %}
                                                                        {% for key2, val2 in i.P4_dict.items %}
                                                                            {% if key2 in under %}
                                                                        <li>
                                                                            {{key2}}
                                                                            <ul>
                                                                                <li>
                                                                                    {{val2}}
                                                                                </li>
                                                                            </ul>
                                                                        </li>
                                                                            {% endif %}
                                                                        {% endfor %}
                                                                        {% endif %}
                                                                    {% endfor%}
                                                                    
                                                                </ul>
                                                                
                                                            </li>
                                                            
                                                        </ul>
                                                    
                                                    </li>
                                                    
                                                {% endif %}
                                                
                                        {% endfor %}
                                    </ul>

                                </li>
                                
                            </ul>
                    </li>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
                </ul>
            </li>
        </ul>
    </div>
{% endfor %}
        



        

</body>


</html>